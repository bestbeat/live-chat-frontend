(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"13":function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return b});var n=o(0),a=o(117),r=o(1),i=o(118),c=o(116),s=o(97),l=o(125),p=o(98),m=o(127),u=o(120),d=o(123),h=o(121),f=o(124),y=(o(91),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}()),O=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,o)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(o):void 0};var b=function(e){function Home(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Home);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Home.__proto__||Object.getPrototypeOf(Home)).apply(this,arguments));return e.config={"navigationBarTitleText":"圈子-主页"},e.componentDidMount=function(){var t=e;Object(a.a)({"url":"https://118.31.108.252/backend/home/room","method":"GET","success":function success(e){console.log(e.data),200==e.statusCode&&t.setState({"rooms":e.data})},"fail":function fail(e){console.log(e)}})},e.toOpList=function(){e.setState({"drawerShow":!0})},e.clickAccordion=function(){e.state.accordionOpen?e.setState({"accordionOpen":!1}):e.setState({"accordionOpen":!0})},e.videoCall=function(e){r.a.navigateTo({"url":"/pages/videoCall/videoCall?roomId="+e})},e.handleTabBar=function(){e.setState({"actionSheet":!0})},e.newRoom=function(){if(e.state.roomName){var t=e;Object(a.a)({"url":"https://118.31.108.252/backend/home/room","header":{"Content-type":"application/json;charset=UTF-8"},"method":"POST","data":JSON.stringify({"roomName":e.state.roomName,"creater":"tester"}),"success":function success(e){if(console.log(e.data),200==e.statusCode){var o={"roomName":t.state.roomName,"roomId":e.data},n=t.state.rooms;n.push(o),t.setState({"rooms":n,"actionSheet":!1})}},"fail":function fail(e){console.log(e)}})}else console.log("roomName is null")},e.actionSheetClose=function(){e.setState({"actionSheet":!1})},e.roomNameChange=function(t){console.log(t),e.setState({"roomName":t})},e.state={"drawerShow":!1,"accordionOpen":!0,"actionSheet":!1,"roomName":"","rooms":new Array},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Home,r["a"].Component),y(Home,[{"key":"closeOpList","value":function closeOpList(e){console.info("close drawer")}},{"key":"render","value":function render(){var e=this,t=this.state.rooms.map(function(t){return n.k.createElement(c.a,{"onClick":e.videoCall.bind(e,t.roomId),"title":t.roomName,"extraText":"进入房间","arrow":"right"})});return n.k.createElement(i.a,null,n.k.createElement(i.a,{"className":"at-row"},n.k.createElement(i.a,{"className":"at-col"},n.k.createElement(s.a,{"onClickRgIconSt":this.toOpList,"color":"#000","title":"主页","rightFirstIconType":"user"}))),n.k.createElement(i.a,{"className":"at-row"},n.k.createElement(i.a,{"className":"at-col"},n.k.createElement(l.a,{"open":this.state.accordionOpen,"onClick":this.clickAccordion,"title":"默认列表","icon":{"value":"chevron-down","color":"red","size":"15"}},n.k.createElement(p.a,{"hasBorder":!1},n.k.createElement(c.a,{"onClick":this.videoCall.bind(this,"default"),"title":"默认房间","extraText":"进入房间","arrow":"right"}),t)))),n.k.createElement(i.a,{"className":"at-row"},n.k.createElement(i.a,{"className":"at-col"},n.k.createElement(m.a,{"fixed":!0,"tabList":[{"title":"添加房间","iconType":"add"}],"onClick":this.handleTabBar}))),n.k.createElement(u.a,{"show":this.state.drawerShow,"right":!0,"mask":!0,"onClose":this.closeOpList.bind(this),"items":["设置","注销"]}),n.k.createElement(d.a,{"isOpened":this.state.actionSheet,"cancelText":"添加","title":"添加房间","onCancel":this.newRoom,"onClose":this.actionSheetClose},n.k.createElement(h.a,null,n.k.createElement(f.a,{"name":"room-name","type":"text","placeholder":"房间标题","value":this.state.roomName,"onChange":this.roomNameChange}))))}},{"key":"componentDidMount","value":function componentDidMount(){O(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"componentDidMount",this)&&O(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){O(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"componentDidShow",this)&&O(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){O(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"componentDidHide",this)&&O(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"componentDidHide",this).call(this)}}]),Home}()},"91":function(e,t,o){}}]);